# Migration `20200406105035`

This migration has been generated by 김성훈 at 4/6/2020, 10:50:35 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."p2_posts" (
    "content" text   ,
    "created_at" timestamp(3)   ,
    "post_id" integer  NOT NULL ,
    "title" text  NOT NULL ,
    PRIMARY KEY ("post_id")
) 

CREATE TABLE "public"."p2_profiles" (
    "bio" text   ,
    "profile_id" integer  NOT NULL ,
    PRIMARY KEY ("profile_id")
) 

CREATE TABLE "public"."p2_users" (
    "email" text  NOT NULL ,
    "name" text   ,
    "user_id" integer  NOT NULL ,
    PRIMARY KEY ("user_id")
) 

CREATE UNIQUE INDEX "p2_users.email" ON "public"."p2_users"("email")

DROP TABLE "public"."channel";

DROP TABLE "public"."comment";

DROP TABLE "public"."memo";

DROP TABLE "public"."posts";

DROP TABLE "public"."profiles";

DROP TABLE "public"."tag";

DROP TABLE "public"."timelink";

DROP TABLE "public"."user";

DROP TABLE "public"."users";

DROP TABLE "public"."video";
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200406104724-2020-04-06-001..20200406105035
--- datamodel.dml
+++ datamodel.dml
@@ -2,33 +2,33 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider = "prisma-client-js"
 }
-model posts {
-  author_id   users?
-  content     String?
-  created_at  DateTime?
-  post_id     Int @id
-  title       String
+model p2_posts {
+  author_id  p2_users?
+  content    String?
+  created_at DateTime?
+  post_id    Int       @id
+  title      String
 }
-model profiles {
+model p2_profiles {
   bio        String?
   profile_id Int     @id
-  user_id    users
+  user_id    p2_users
 }
-model users {
+model p2_users {
   email      String     @unique
   name       String?
   user_id    Int        @id
-  postses    posts[]
-  profileses profiles[]
+  postses    p2_posts[]
+  profileses p2_profiles[]
 }
```


